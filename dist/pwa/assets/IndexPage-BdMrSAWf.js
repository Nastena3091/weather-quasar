import{Q as _e,f as je,h as le,i as be,e as we,R as Je}from"./QBtn-B9k2doQb.js";import{i as Qe,r as A,o as oe,w as K,a as p,g as ee,U as Ye,e as Me,V as Ge,b as pe,W as Xe,X as Ue,s as et,d as te,Y as tt,Z as nt,h as k,x as re,_ as He,$ as at,k as lt,c as Ve,y as Ae,f as ae,j as ot,C as rt,F as se,G as X,I as Z,a0 as it,O as U,K as H,Q as ie,J as Be,a1 as ut,R as ce,S as ke,A as st,L as de,M as W,a2 as ct}from"./index-C95VZ_DA.js";import{u as dt,a as ft,b as Ee,d as Ie,c as Te,Q as ue}from"./QItem-x7W_dhso.js";import{api as fe,API_KEY as ge}from"./axios-DFFDNM19.js";let Ce,ve=0;const z=new Array(256);for(let e=0;e<256;e++)z[e]=(e+256).toString(16).substring(1);const gt=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const l=new Uint8Array(t);return e.getRandomValues(l),l}}return t=>{const l=[];for(let a=t;a>0;a--)l.push(Math.floor(Math.random()*256));return l}})(),De=4096;function qe(){(Ce===void 0||ve+16>De)&&(ve=0,Ce=gt(De));const e=Array.prototype.slice.call(Ce,ve,ve+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,z[e[0]]+z[e[1]]+z[e[2]]+z[e[3]]+"-"+z[e[4]]+z[e[5]]+"-"+z[e[6]]+z[e[7]]+"-"+z[e[8]]+z[e[9]]+"-"+z[e[10]]+z[e[11]]+z[e[12]]+z[e[13]]+z[e[14]]+z[e[15]]}function vt(e){return e??null}function Oe(e,t){return e??(t===!0?`f_${qe()}`:null)}function mt({getValue:e,required:t=!0}={}){if(Qe.value===!0){const l=e!==void 0?A(vt(e())):A(null);return t===!0&&l.value===null&&oe(()=>{l.value=`f_${qe()}`}),e!==void 0&&K(e,a=>{l.value=Oe(a,t)}),l}return e!==void 0?p(()=>Oe(e(),t)):A(`f_${qe()}`)}const Pe=/^on[A-Z]/;function ht(){const{attrs:e,vnode:t}=ee(),l={listeners:A({}),attributes:A({})};function a(){const d={},f={};for(const s in e)s!=="class"&&s!=="style"&&Pe.test(s)===!1&&(d[s]=e[s]);for(const s in t.props)Pe.test(s)===!0&&(f[s]=t.props[s]);l.attributes.value=d,l.listeners.value=f}return Ye(a),a(),l}function yt({validate:e,resetValidation:t,requiresQForm:l}){const a=Me(Ge,!1);if(a!==!1){const{props:d,proxy:f}=ee();Object.assign(f,{validate:e,resetValidation:t}),K(()=>d.disable,s=>{s===!0?(typeof t=="function"&&t(),a.unbindComponent(f)):a.bindComponent(f)}),oe(()=>{d.disable!==!0&&a.bindComponent(f)}),pe(()=>{d.disable!==!0&&a.unbindComponent(f)})}else l===!0&&console.error("Parent QForm not found on useFormChild()!")}const $e=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Le=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,Ne=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,me=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,he=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,xe={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>$e.test(e),hexaColor:e=>Le.test(e),hexOrHexaColor:e=>Ne.test(e),rgbColor:e=>me.test(e),rgbaColor:e=>he.test(e),rgbOrRgbaColor:e=>me.test(e)||he.test(e),hexOrRgbColor:e=>$e.test(e)||me.test(e),hexaOrRgbaColor:e=>Le.test(e)||he.test(e),anyColor:e=>Ne.test(e)||me.test(e)||he.test(e)},pt=[!0,!1,"ondemand"],bt={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>pt.includes(e)}};function wt(e,t){const{props:l,proxy:a}=ee(),d=A(!1),f=A(null),s=A(!1);yt({validate:h,resetValidation:O});let g=0,B;const S=p(()=>l.rules!==void 0&&l.rules!==null&&l.rules.length!==0),_=p(()=>l.disable!==!0&&S.value===!0&&t.value===!1),b=p(()=>l.error===!0||d.value===!0),L=p(()=>typeof l.errorMessage=="string"&&l.errorMessage.length!==0?l.errorMessage:f.value);K(()=>l.modelValue,()=>{s.value=!0,_.value===!0&&l.lazyRules===!1&&x()});function R(){l.lazyRules!=="ondemand"&&_.value===!0&&s.value===!0&&x()}K(()=>l.reactiveRules,F=>{F===!0?B===void 0&&(B=K(()=>l.rules,R,{immediate:!0,deep:!0})):B!==void 0&&(B(),B=void 0)},{immediate:!0}),K(()=>l.lazyRules,R),K(e,F=>{F===!0?s.value=!0:_.value===!0&&l.lazyRules!=="ondemand"&&x()});function O(){g++,t.value=!1,s.value=!1,d.value=!1,f.value=null,x.cancel()}function h(F=l.modelValue){if(l.disable===!0||S.value===!1)return!0;const m=++g,Y=t.value!==!0?()=>{s.value=!0}:()=>{},Q=(E,q)=>{E===!0&&Y(),d.value=E,f.value=q||null,t.value=!1},N=[];for(let E=0;E<l.rules.length;E++){const q=l.rules[E];let P;if(typeof q=="function"?P=q(F,xe):typeof q=="string"&&xe[q]!==void 0&&(P=xe[q](F)),P===!1||typeof P=="string")return Q(!0,P),!1;P!==!0&&P!==void 0&&N.push(P)}return N.length===0?(Q(!1),!0):(t.value=!0,Promise.all(N).then(E=>{if(E===void 0||Array.isArray(E)===!1||E.length===0)return m===g&&Q(!1),!0;const q=E.find(P=>P===!1||typeof P=="string");return m===g&&Q(q!==void 0,q),q===void 0},E=>(m===g&&(console.error(E),Q(!0)),!1)))}const x=Xe(h,0);return pe(()=>{B?.(),x.cancel()}),Object.assign(a,{resetValidation:O,validate:h}),Ue(a,"hasError",()=>b.value),{isDirtyModel:s,hasRules:S,hasError:b,errorMessage:L,validate:h,resetValidation:O}}let Re=[],kt=[];function Ze(e){kt.length===0?e():Re.push(e)}function Ct(e){Re=Re.filter(t=>t!==e)}function Fe(e){return e!=null&&(""+e).length!==0}const xt={...dt,...bt,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},St={...xt,maxlength:[Number,String]},_t=["update:modelValue","clear","focus","blur"];function Mt({requiredForAttr:e=!0,tagProp:t,changeEvent:l=!1}={}){const{props:a,proxy:d}=ee(),f=ft(a,d.$q),s=mt({required:e,getValue:()=>a.for});return{requiredForAttr:e,changeEvent:l,tag:t===!0?p(()=>a.tag):{value:"label"},isDark:f,editable:p(()=>a.disable!==!0&&a.readonly!==!0),innerLoading:A(!1),focused:A(!1),hasPopupOpen:!1,splitAttrs:ht(),targetUid:s,rootRef:A(null),targetRef:A(null),controlRef:A(null)}}function qt(e){const{props:t,emit:l,slots:a,attrs:d,proxy:f}=ee(),{$q:s}=f;let g=null;e.hasValue===void 0&&(e.hasValue=p(()=>Fe(t.modelValue))),e.emitValue===void 0&&(e.emitValue=u=>{l("update:modelValue",u)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:i,onFocusout:r}),Object.assign(e,{clearValue:c,onControlFocusin:i,onControlFocusout:r,focus:q}),e.computedCounter===void 0&&(e.computedCounter=p(()=>{if(t.counter!==!1){const u=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,C=t.maxlength!==void 0?t.maxlength:t.maxValues;return u+(C!==void 0?" / "+C:"")}}));const{isDirtyModel:B,hasRules:S,hasError:_,errorMessage:b,resetValidation:L}=wt(e.focused,e.innerLoading),R=e.floatingLabel!==void 0?p(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):p(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),O=p(()=>t.bottomSlots===!0||t.hint!==void 0||S.value===!0||t.counter===!0||t.error!==null),h=p(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),x=p(()=>`q-field row no-wrap items-start q-field--${h.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(R.value===!0?" q-field--float":"")+(m.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(_.value===!0?" q-field--error":"")+(_.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&O.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),F=p(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(_.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),m=p(()=>t.labelSlot===!0||t.label!==void 0),Y=p(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&_.value!==!0?` text-${t.labelColor}`:"")),Q=p(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:R.value,modelValue:t.modelValue,emitValue:e.emitValue})),N=p(()=>{const u={};return e.targetUid.value&&(u.for=e.targetUid.value),t.disable===!0&&(u["aria-disabled"]="true"),u});function E(){const u=document.activeElement;let C=e.targetRef?.value;C&&(u===null||u.id!==e.targetUid.value)&&(C.hasAttribute("tabindex")===!0||(C=C.querySelector("[tabindex]")),C!==u&&C?.focus({preventScroll:!0}))}function q(){Ze(E)}function P(){Ct(E);const u=document.activeElement;u!==null&&e.rootRef.value.contains(u)&&u.blur()}function i(u){g!==null&&(clearTimeout(g),g=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,l("focus",u))}function r(u,C){g!==null&&clearTimeout(g),g=setTimeout(()=>{g=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,l("blur",u)),C?.())})}function c(u){et(u),s.platform.is.mobile!==!0?(e.targetRef?.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),l("update:modelValue",null),e.changeEvent===!0&&l("change",null),l("clear",t.modelValue),te(()=>{const C=B.value;L(),B.value=C})}function n(u){[13,32].includes(u.keyCode)&&c(u)}function v(){const u=[];return a.prepend!==void 0&&u.push(k("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:re},a.prepend())),u.push(k("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},y())),_.value===!0&&t.noErrorIcon===!1&&u.push(w("error",[k(_e,{name:s.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?u.push(w("inner-loading-append",a.loading!==void 0?a.loading():[k(je,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&u.push(w("inner-clearable-append",[k(_e,{class:"q-field__focusable-action",name:t.clearIcon||s.iconSet.field.clear,tabindex:0,role:"button","aria-hidden":"false","aria-label":s.lang.label.clear,onKeyup:n,onClick:c})])),a.append!==void 0&&u.push(k("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:re},a.append())),e.getInnerAppend!==void 0&&u.push(w("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&u.push(e.getControlChild()),u}function y(){const u=[];return t.prefix!==void 0&&t.prefix!==null&&u.push(k("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&u.push(e.getShadowControl()),e.getControl!==void 0?u.push(e.getControl()):a.rawControl!==void 0?u.push(a.rawControl()):a.control!==void 0&&u.push(k("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},a.control(Q.value))),m.value===!0&&u.push(k("div",{class:Y.value},le(a.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&u.push(k("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),u.concat(le(a.default))}function I(){let u,C;_.value===!0?b.value!==null?(u=[k("div",{role:"alert"},b.value)],C=`q--slot-error-${b.value}`):(u=le(a.error),C="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(u=[k("div",t.hint)],C=`q--slot-hint-${t.hint}`):(u=le(a.hint),C="q--slot-hint"));const V=t.counter===!0||a.counter!==void 0;if(t.hideBottomSpace===!0&&V===!1&&u===void 0)return;const T=k("div",{key:C,class:"q-field__messages col"},u);return k("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:re},[t.hideBottomSpace===!0?T:k(He,{name:"q-transition--field-message"},()=>T),V===!0?k("div",{class:"q-field__counter"},a.counter!==void 0?a.counter():e.computedCounter.value):null])}function w(u,C){return C===null?null:k("div",{key:u,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},C)}let M=!1;return tt(()=>{M=!0}),nt(()=>{M===!0&&t.autofocus===!0&&f.focus()}),t.autofocus===!0&&oe(()=>{f.focus()}),pe(()=>{g!==null&&clearTimeout(g)}),Object.assign(f,{focus:q,blur:P}),function(){const C=e.getControl===void 0&&a.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...N.value}:N.value;return k(e.tag.value,{ref:e.rootRef,class:[x.value,d.class],style:d.style,...C},[a.before!==void 0?k("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:re},a.before()):null,k("div",{class:"q-field__inner relative-position col self-stretch"},[k("div",{ref:e.controlRef,class:F.value,tabindex:-1,...e.controlEvents},v()),O.value===!0?I():null]),a.after!==void 0?k("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:re},a.after()):null])}}const ze={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},ye={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},We=Object.keys(ye);We.forEach(e=>{ye[e].regex=new RegExp(ye[e].pattern)});const Rt=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+We.join("")+"])|(.)","g"),Ke=/[.*+?^${}()|[\]\\]/g,$="",Ft={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Vt(e,t,l,a){let d,f,s,g,B,S;const _=A(null),b=A(R());function L(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}K(()=>e.type+e.autogrow,h),K(()=>e.mask,i=>{if(i!==void 0)x(b.value,!0);else{const r=q(b.value);h(),e.modelValue!==r&&t("update:modelValue",r)}}),K(()=>e.fillMask+e.reverseFillMask,()=>{_.value===!0&&x(b.value,!0)}),K(()=>e.unmaskedValue,()=>{_.value===!0&&x(b.value)});function R(){if(h(),_.value===!0){const i=N(q(e.modelValue));return e.fillMask!==!1?P(i):i}return e.modelValue}function O(i){if(i<d.length)return d.slice(-i);let r="",c=d;const n=c.indexOf($);if(n!==-1){for(let v=i-c.length;v>0;v--)r+=$;c=c.slice(0,n)+r+c.slice(n)}return c}function h(){if(_.value=e.mask!==void 0&&e.mask.length!==0&&L(),_.value===!1){g=void 0,d="",f="";return}const i=ze[e.mask]===void 0?e.mask:ze[e.mask],r=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",c=r.replace(Ke,"\\$&"),n=[],v=[],y=[];let I=e.reverseFillMask===!0,w="",M="";i.replace(Rt,(T,o,D,G,J)=>{if(G!==void 0){const j=ye[G];y.push(j),M=j.negate,I===!0&&(v.push("(?:"+M+"+)?("+j.pattern+"+)?(?:"+M+"+)?("+j.pattern+"+)?"),I=!1),v.push("(?:"+M+"+)?("+j.pattern+")?")}else if(D!==void 0)w="\\"+(D==="\\"?"":D),y.push(D),n.push("([^"+w+"]+)?"+w+"?");else{const j=o!==void 0?o:J;w=j==="\\"?"\\\\\\\\":j.replace(Ke,"\\\\$&"),y.push(j),n.push("([^"+w+"]+)?"+w+"?")}});const u=new RegExp("^"+n.join("")+"("+(w===""?".":"[^"+w+"]")+"+)?"+(w===""?"":"["+w+"]*")+"$"),C=v.length-1,V=v.map((T,o)=>o===0&&e.reverseFillMask===!0?new RegExp("^"+c+"*"+T):o===C?new RegExp("^"+T+"("+(M===""?".":M)+"+)?"+(e.reverseFillMask===!0?"$":c+"*")):new RegExp("^"+T));s=y,g=T=>{const o=u.exec(e.reverseFillMask===!0?T:T.slice(0,y.length+1));o!==null&&(T=o.slice(1).join(""));const D=[],G=V.length;for(let J=0,j=T;J<G;J++){const ne=V[J].exec(j);if(ne===null)break;j=j.slice(ne.shift().length),D.push(...ne)}return D.length!==0?D.join(""):T},d=y.map(T=>typeof T=="string"?T:$).join(""),f=d.split($).join(r)}function x(i,r,c){const n=a.value,v=n.selectionEnd,y=n.value.length-v,I=q(i);r===!0&&h();const w=N(I),M=e.fillMask!==!1?P(w):w,u=b.value!==M;n.value!==M&&(n.value=M),u===!0&&(b.value=M),document.activeElement===n&&te(()=>{if(M===f){const V=e.reverseFillMask===!0?f.length:0;n.setSelectionRange(V,V,"forward");return}if(c==="insertFromPaste"&&e.reverseFillMask!==!0){const V=n.selectionEnd;let T=v-1;for(let o=B;o<=T&&o<V;o++)d[o]!==$&&T++;m.right(n,T);return}if(["deleteContentBackward","deleteContentForward"].indexOf(c)!==-1){const V=e.reverseFillMask===!0?v===0?M.length>w.length?1:0:Math.max(0,M.length-(M===f?0:Math.min(w.length,y)+1))+1:v;n.setSelectionRange(V,V,"forward");return}if(e.reverseFillMask===!0)if(u===!0){const V=Math.max(0,M.length-(M===f?0:Math.min(w.length,y+1)));V===1&&v===1?n.setSelectionRange(V,V,"forward"):m.rightReverse(n,V)}else{const V=M.length-y;n.setSelectionRange(V,V,"backward")}else if(u===!0){const V=Math.max(0,d.indexOf($),Math.min(w.length,v)-1);m.right(n,V)}else{const V=v-1;m.right(n,V)}});const C=e.unmaskedValue===!0?q(M):M;String(e.modelValue)!==C&&(e.modelValue!==null||C!=="")&&l(C,!0)}function F(i,r,c){const n=N(q(i.value));r=Math.max(0,d.indexOf($),Math.min(n.length,r)),B=r,i.setSelectionRange(r,c,"forward")}const m={left(i,r){const c=d.slice(r-1).indexOf($)===-1;let n=Math.max(0,r-1);for(;n>=0;n--)if(d[n]===$){r=n,c===!0&&r++;break}if(n<0&&d[r]!==void 0&&d[r]!==$)return m.right(i,0);r>=0&&i.setSelectionRange(r,r,"backward")},right(i,r){const c=i.value.length;let n=Math.min(c,r+1);for(;n<=c;n++)if(d[n]===$){r=n;break}else d[n-1]===$&&(r=n);if(n>c&&d[r-1]!==void 0&&d[r-1]!==$)return m.left(i,c);i.setSelectionRange(r,r,"forward")},leftReverse(i,r){const c=O(i.value.length);let n=Math.max(0,r-1);for(;n>=0;n--)if(c[n-1]===$){r=n;break}else if(c[n]===$&&(r=n,n===0))break;if(n<0&&c[r]!==void 0&&c[r]!==$)return m.rightReverse(i,0);r>=0&&i.setSelectionRange(r,r,"backward")},rightReverse(i,r){const c=i.value.length,n=O(c),v=n.slice(0,r+1).indexOf($)===-1;let y=Math.min(c,r+1);for(;y<=c;y++)if(n[y-1]===$){r=y,r>0&&v===!0&&r--;break}if(y>c&&n[r-1]!==void 0&&n[r-1]!==$)return m.leftReverse(i,c);i.setSelectionRange(r,r,"forward")}};function Y(i){t("click",i),S=void 0}function Q(i){if(t("keydown",i),at(i)===!0||i.altKey===!0)return;const r=a.value,c=r.selectionStart,n=r.selectionEnd;if(i.shiftKey||(S=void 0),i.keyCode===37||i.keyCode===39){i.shiftKey&&S===void 0&&(S=r.selectionDirection==="forward"?c:n);const v=m[(i.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(i.preventDefault(),v(r,S===c?n:c),i.shiftKey){const y=r.selectionStart;r.setSelectionRange(Math.min(S,y),Math.max(S,y),"forward")}}else i.keyCode===8&&e.reverseFillMask!==!0&&c===n?(m.left(r,c),r.setSelectionRange(r.selectionStart,n,"backward")):i.keyCode===46&&e.reverseFillMask===!0&&c===n&&(m.rightReverse(r,n),r.setSelectionRange(c,r.selectionEnd,"forward"))}function N(i){if(i==null||i==="")return"";if(e.reverseFillMask===!0)return E(i);const r=s;let c=0,n="";for(let v=0;v<r.length;v++){const y=i[c],I=r[v];if(typeof I=="string")n+=I,y===I&&c++;else if(y!==void 0&&I.regex.test(y))n+=I.transform!==void 0?I.transform(y):y,c++;else return n}return n}function E(i){const r=s,c=d.indexOf($);let n=i.length-1,v="";for(let y=r.length-1;y>=0&&n!==-1;y--){const I=r[y];let w=i[n];if(typeof I=="string")v=I+v,w===I&&n--;else if(w!==void 0&&I.regex.test(w))do v=(I.transform!==void 0?I.transform(w):w)+v,n--,w=i[n];while(c===y&&w!==void 0&&I.regex.test(w));else return v}return v}function q(i){return typeof i!="string"||g===void 0?typeof i=="number"?g(""+i):i:g(i)}function P(i){return f.length-i.length<=0?i:e.reverseFillMask===!0&&i.length!==0?f.slice(0,-i.length)+i:i+f.slice(i.length)}return{innerValue:b,hasMask:_,moveCursorForPaste:F,updateMaskValue:x,onMaskedKeydown:Q,onMaskedClick:Y}}const At={name:String};function Bt(e){return p(()=>e.name||e.for)}function Et(e,t){function l(){const a=e.modelValue;try{const d="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(a)===a&&("length"in a?Array.from(a):[a]).forEach(f=>{d.items.add(f)}),{files:d.files}}catch{return{files:void 0}}}return p(()=>{if(e.type==="file")return l()})}const It=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Tt=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Dt=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Ot=/[a-z0-9_ -]$/i;function Pt(e){return function(l){if(l.type==="compositionend"||l.type==="change"){if(l.target.qComposing!==!0)return;l.target.qComposing=!1,e(l)}else l.type==="compositionupdate"&&l.target.qComposing!==!0&&typeof l.data=="string"&&(lt.is.firefox===!0?Ot.test(l.data)===!1:It.test(l.data)===!0||Tt.test(l.data)===!0||Dt.test(l.data)===!0)===!0&&(l.target.qComposing=!0)}}const $t=Ve({name:"QInput",inheritAttrs:!1,props:{...St,...Ft,...At,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[..._t,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:l}){const{proxy:a}=ee(),{$q:d}=a,f={};let s=NaN,g,B,S=null,_;const b=A(null),L=Bt(e),{innerValue:R,hasMask:O,moveCursorForPaste:h,updateMaskValue:x,onMaskedKeydown:F,onMaskedClick:m}=Vt(e,t,w,b),Y=Et(e),Q=p(()=>Fe(R.value)),N=Pt(y),E=Mt({changeEvent:!0}),q=p(()=>e.type==="textarea"||e.autogrow===!0),P=p(()=>q.value===!0||["text","search","url","tel","password"].includes(e.type)),i=p(()=>{const o={...E.splitAttrs.listeners.value,onInput:y,onPaste:v,onChange:u,onBlur:C,onFocus:Ae};return o.onCompositionstart=o.onCompositionupdate=o.onCompositionend=N,O.value===!0&&(o.onKeydown=F,o.onClick=m),e.autogrow===!0&&(o.onAnimationend=I),o}),r=p(()=>{const o={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:L.value,...E.splitAttrs.attributes.value,id:E.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return q.value===!1&&(o.type=e.type),e.autogrow===!0&&(o.rows=1),o});K(()=>e.type,()=>{b.value&&(b.value.value=e.modelValue)}),K(()=>e.modelValue,o=>{if(O.value===!0){if(B===!0&&(B=!1,String(o)===s))return;x(o)}else R.value!==o&&(R.value=o,e.type==="number"&&f.hasOwnProperty("value")===!0&&(g===!0?g=!1:delete f.value));e.autogrow===!0&&te(M)}),K(()=>e.autogrow,o=>{o===!0?te(M):b.value!==null&&l.rows>0&&(b.value.style.height="auto")}),K(()=>e.dense,()=>{e.autogrow===!0&&te(M)});function c(){Ze(()=>{const o=document.activeElement;b.value!==null&&b.value!==o&&(o===null||o.id!==E.targetUid.value)&&b.value.focus({preventScroll:!0})})}function n(){b.value?.select()}function v(o){if(O.value===!0&&e.reverseFillMask!==!0){const D=o.target;h(D,D.selectionStart,D.selectionEnd)}t("paste",o)}function y(o){if(!o||!o.target)return;if(e.type==="file"){t("update:modelValue",o.target.files);return}const D=o.target.value;if(o.target.qComposing===!0){f.value=D;return}if(O.value===!0)x(D,!1,o.inputType);else if(w(D),P.value===!0&&o.target===document.activeElement){const{selectionStart:G,selectionEnd:J}=o.target;G!==void 0&&J!==void 0&&te(()=>{o.target===document.activeElement&&D.indexOf(o.target.value)===0&&o.target.setSelectionRange(G,J)})}e.autogrow===!0&&M()}function I(o){t("animationend",o),M()}function w(o,D){_=()=>{S=null,e.type!=="number"&&f.hasOwnProperty("value")===!0&&delete f.value,e.modelValue!==o&&s!==o&&(s=o,D===!0&&(B=!0),t("update:modelValue",o),te(()=>{s===o&&(s=NaN)})),_=void 0},e.type==="number"&&(g=!0,f.value=o),e.debounce!==void 0?(S!==null&&clearTimeout(S),f.value=o,S=setTimeout(_,e.debounce)):_()}function M(){requestAnimationFrame(()=>{const o=b.value;if(o!==null){const D=o.parentNode.style,{scrollTop:G}=o,{overflowY:J,maxHeight:j}=d.platform.is.firefox===!0?{}:window.getComputedStyle(o),ne=J!==void 0&&J!=="scroll";ne===!0&&(o.style.overflowY="hidden"),D.marginBottom=o.scrollHeight-1+"px",o.style.height="1px",o.style.height=o.scrollHeight+"px",ne===!0&&(o.style.overflowY=parseInt(j,10)<o.scrollHeight?"auto":"hidden"),D.marginBottom="",o.scrollTop=G}})}function u(o){N(o),S!==null&&(clearTimeout(S),S=null),_?.(),t("change",o.target.value)}function C(o){o!==void 0&&Ae(o),S!==null&&(clearTimeout(S),S=null),_?.(),g=!1,B=!1,delete f.value,e.type!=="file"&&setTimeout(()=>{b.value!==null&&(b.value.value=R.value!==void 0?R.value:"")})}function V(){return f.hasOwnProperty("value")===!0?f.value:R.value!==void 0?R.value:""}pe(()=>{C()}),oe(()=>{e.autogrow===!0&&M()}),Object.assign(E,{innerValue:R,fieldClass:p(()=>`q-${q.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:p(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:b,emitValue:w,hasValue:Q,floatingLabel:p(()=>Q.value===!0&&(e.type!=="number"||isNaN(R.value)===!1)||Fe(e.displayValue)),getControl:()=>k(q.value===!0?"textarea":"input",{ref:b,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...r.value,...i.value,...e.type!=="file"?{value:V()}:Y.value}),getShadowControl:()=>k("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(q.value===!0?"":" text-no-wrap")},[k("span",{class:"invisible"},V()),k("span",e.shadowText)])});const T=qt(E);return Object.assign(a,{focus:c,select:n,getNativeElement:()=>b.value}),Ue(a,"nativeEl",()=>b.value),T}}),Lt={ratio:[String,Number]};function Nt(e,t){return p(()=>{const l=Number(e.ratio||(t!==void 0?t.value:void 0));return isNaN(l)!==!0&&l>0?{paddingBottom:`${100/l}%`}:null})}const zt=1.7778,Se=Ve({name:"QImg",props:{...Lt,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:zt},placeholderSrc:String,errorSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:t,emit:l}){const a=A(e.initialRatio),d=Nt(e,a),f=ee(),{registerTimeout:s,removeTimeout:g}=Ee(),{registerTimeout:B,removeTimeout:S}=Ee(),_=p(()=>e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null),b=p(()=>e.errorSrc!==void 0?{src:e.errorSrc,__qerror:!0}:null),L=[A(null),A(_.value)],R=A(0),O=A(!1),h=A(!1),x=p(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),F=p(()=>({width:e.width,height:e.height})),m=p(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition q-img__image--`),Y=p(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));function Q(){if(S(),e.loadingShowDelay===0){O.value=!0;return}B(()=>{O.value=!0},e.loadingShowDelay)}function N(){S(),O.value=!1}function E({target:n}){be(f)===!1&&(g(),a.value=n.naturalHeight===0?.5:n.naturalWidth/n.naturalHeight,q(n,1))}function q(n,v){v===1e3||be(f)===!0||(n.complete===!0?P(n):s(()=>{q(n,v+1)},50))}function P(n){be(f)!==!0&&(R.value=R.value^1,L[R.value].value=null,N(),n.getAttribute("__qerror")!=="true"&&(h.value=!1),l("load",n.currentSrc||n.src))}function i(n){g(),N(),h.value=!0,L[R.value].value=b.value,L[R.value^1].value=_.value,l("error",n)}function r(n){const v=L[n].value,y={key:"img_"+n,class:m.value,style:Y.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...v};return R.value===n?Object.assign(y,{class:y.class+"current",onLoad:E,onError:i}):y.class+="loaded",k("div",{class:"q-img__container absolute-full",key:"img"+n},k("img",y))}function c(){return O.value===!1?k("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},le(t[h.value===!0?"error":"default"])):k("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},t.loading!==void 0?t.loading():e.noSpinner===!0?void 0:[k(je,{color:e.spinnerColor,size:e.spinnerSize})])}{let n=function(){K(()=>e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null,v=>{g(),h.value=!1,v===null?(N(),L[R.value^1].value=_.value):Q(),L[R.value].value=v},{immediate:!0})};Qe.value===!0?oe(n):n()}return()=>{const n=[];return d.value!==null&&n.push(k("div",{key:"filler",style:d.value})),L[0].value!==null&&n.push(r(0)),L[1].value!==null&&n.push(r(1)),n.push(k(He,{name:"q-transition--fade"},c)),k("div",{key:"main",class:x.value,style:F.value,role:"img","aria-label":e.alt},n)}}}),Kt=Ve({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(e,{slots:t}){const{proxy:{$q:l}}=ee(),a=Me(ot,ae);if(a===ae)return console.error("QPage needs to be a deep child of QLayout"),ae;if(Me(rt,ae)===ae)return console.error("QPage needs to be child of QPageContainer"),ae;const f=p(()=>{const g=(a.header.space===!0?a.header.size:0)+(a.footer.space===!0?a.footer.size:0);if(typeof e.styleFn=="function"){const B=a.isContainer.value===!0?a.containerHeight.value:l.screen.height;return e.styleFn(g,B)}return{minHeight:a.isContainer.value===!0?a.containerHeight.value-g+"px":l.screen.height===0?g!==0?`calc(100vh - ${g}px)`:"100vh":l.screen.height-g+"px"}}),s=p(()=>`q-page${e.padding===!0?" q-layout-padding":""}`);return()=>k("main",{class:s.value,style:f.value},le(t.default))}}),jt=(e,t)=>{const l=e.__vccOpts||e;for(const[a,d]of t)l[a]=d;return l},Qt={name:"IndexPage",setup(){const e=A(""),t=A(JSON.parse(localStorage.getItem("cities"))||[]),l=A(null),a=A([]),d=A([]),f=A(0),s=()=>{if(!navigator.geolocation){console.error("Geolocation is not supported by this browser.");return}navigator.geolocation.getCurrentPosition(async h=>{const x=h.coords.latitude,F=h.coords.longitude;try{const m=await fe.get("weather",{params:{lat:x,lon:F,appid:ge,units:"metric",lang:"ua"}});l.value=m.data}catch(m){console.error("Помилка отримання погоди за місцем розташування:",m)}},h=>{console.error("Помилка доступу до геолокації:",h)})},g=(h,x)=>{localStorage.setItem(h,JSON.stringify({data:x,timestamp:Date.now()}))},B=(h,x=36e5)=>{const F=localStorage.getItem(h);if(F){const m=JSON.parse(F);if(Date.now()-m.timestamp<x)return m.data}return null},S=async h=>{const x=`weather-${h}`,F=B(x);if(F)l.value=F;else try{const m=await fe.get("weather",{params:{q:h,appid:ge,units:"metric",lang:"ua"}});l.value=m.data,g(x,l.value)}catch(m){console.error("Помилка отримання погоди:",m)}_(h),b(h)},_=async h=>{const x=`hourly-${h}`,F=B(x);if(F){a.value=[...F],console.log("Loaded from cache:",a.value);return}try{const m=await fe.get("forecast/hourly",{params:{q:h,appid:ge,lang:"ua",units:"metric"}});a.value=[...m.data.list.slice(0,24)],console.log("Loaded from API:",a.value),g(x,a.value)}catch(m){console.error("Помилка отримання погодинного прогнозу:",m)}},b=async h=>{const x=`weekly-${h}`,F=B(x);if(F){d.value=F;return}try{const m=await fe.get("forecast/daily",{params:{q:h,appid:ge,lang:"ua",units:"metric",cnt:7}});d.value=m.data.list,g(x,d.value)}catch(m){console.error("Помилка отримання прогнозу:",m)}},L=()=>{e.value&&!t.value.includes(e.value)&&(t.value.push(e.value),localStorage.setItem("cities",JSON.stringify(t.value)),S(e.value),e.value="")},R=h=>{t.value.splice(h,1),localStorage.setItem("cities",JSON.stringify(t.value))},O=p(()=>l.value?.weather[0].icon.endsWith("n")?"bg-night":"bg-day");return oe(()=>t.value.length&&S(t.value[0])),{search:e,cities:t,weatherData:l,hourlyForecast:a,weeklyForecast:d,addCity:L,getWeatherByCity:S,removeCity:R,getLocation:s,bgClass:O,activeSlide:f}}},Ut={class:"col q-pt-lg q-px-md"},Ht={class:"col q-mt-md"},Zt={class:"col text-white text-center q-mt-md"},Wt={class:"text-h6"},Jt={class:"text-h1 text-weight-thin q-my-md"},Yt={class:"q-mt-md weather-details"},Gt={class:"hourly-container"},Xt={class:"hourly-forecast"},en={class:"time"},tn={class:"temp"};function nn(e,t,l,a,d,f){return X(),se(Kt,{class:it(["flex column",a.bgClass])},{default:Z(()=>[U("div",Ut,[H($t,{modelValue:a.search,"onUpdate:modelValue":t[0]||(t[0]=s=>a.search=s),onKeyup:ut(a.addCity,["enter"]),placeholder:"Enter city name",dark:"",borderless:""},{before:Z(()=>[H(_e,{name:"search"})]),append:Z(()=>[H(we,{onClick:a.addCity,round:"",dense:"",flat:"",icon:"add"},null,8,["onClick"])]),_:1},8,["modelValue","onKeyup"])]),U("div",Ht,[H(Ie,{bordered:"",separator:"",class:"city-list"},{default:Z(()=>[(X(!0),ie(ce,null,ke(a.cities,(s,g)=>st((X(),se(Te,{key:g,clickable:"",onClick:B=>a.getWeatherByCity(s)},{default:Z(()=>[H(ue,null,{default:Z(()=>[de(W(s),1)]),_:2},1024),H(ue,{side:""},{default:Z(()=>[H(we,{color:"red",round:"",dense:"",flat:"",icon:"delete",onClick:ct(B=>a.removeCity(g),["stop"])},null,8,["onClick"])]),_:2},1024)]),_:2},1032,["onClick"])),[[Je]])),128))]),_:1})]),H(we,{onClick:a.getLocation,color:"primary",class:"q-mt-md"},{default:Z(()=>t[1]||(t[1]=[de("Знайти моє місцезнаходження")])),_:1},8,["onClick"]),a.weatherData?(X(),ie(ce,{key:0},[U("div",Zt,[U("h2",null,W(a.weatherData.name),1),U("p",Wt,W(a.weatherData.weather[0].description),1),H(Se,{src:`https://openweathermap.org/img/wn/${a.weatherData.weather[0].icon}@2x.png`,width:"100px"},null,8,["src"]),U("p",Jt,W(Math.round(a.weatherData.main.temp))+"°C ",1),U("div",Yt,[U("p",null,"💨 Вітер: "+W(a.weatherData.wind.speed)+" м/с",1),U("p",null,"💧 Вологість: "+W(a.weatherData.main.humidity)+"%",1),U("p",null,"🌡 Тиск: "+W(a.weatherData.main.pressure)+" мм",1)])]),U("div",Gt,[U("div",Xt,[(X(!0),ie(ce,null,ke(a.hourlyForecast,(s,g)=>(X(),ie("div",{key:g,class:"hour-card"},[U("p",en,W(new Date(s.dt*1e3).toLocaleTimeString("ua-UA",{hour:"2-digit",minute:"2-digit"})),1),H(Se,{src:`https://openweathermap.org/img/wn/${s.weather[0].icon}.png`,width:"50px"},null,8,["src"]),U("p",tn,W(Math.round(s.main.temp))+"°C",1)]))),128))])]),a.weeklyForecast.length?(X(),se(Ie,{key:0,bordered:"",class:"q-mt-md text-white text-center"},{default:Z(()=>[(X(!0),ie(ce,null,ke(a.weeklyForecast,(s,g)=>(X(),se(Te,{key:g},{default:Z(()=>[H(ue,null,{default:Z(()=>[de(W(new Date(s.dt*1e3).toLocaleDateString("ua-UA")),1)]),_:2},1024),H(ue,null,{default:Z(()=>[H(Se,{src:`https://openweathermap.org/img/wn/${s.weather[0].icon}.png`,width:"50px"},null,8,["src"])]),_:2},1024),H(ue,null,{default:Z(()=>[de("🌡 "+W(Math.round(s.temp.min))+"°C - "+W(Math.round(s.temp.max))+"°C",1)]),_:2},1024)]),_:2},1024))),128))]),_:1})):Be("",!0)],64)):Be("",!0)]),_:1},8,["class"])}const un=jt(Qt,[["render",nn]]);export{un as default};
